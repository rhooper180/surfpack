# Load data from files
Load[name = topo_data, file = '../perm_data/noisysparsetopo.spd']

# Create a test data set
Load[name = topo_test, file = '../perm_data/noisydensetopo.spd']

CreateSurface[name = krig_topo, data = topo_data, type = kriging, correlations = (1.0,1.0)]
! echo  krig
#CreateSurface[name = mars_topo, data = topo_data, type = mars]
#! echo  mars

# Save surfaces to file
Save[surface = krig_topo, file = '../tmp_surf/krig_topo.sps']
#Save[surface = mars_topo, file = '../tmp_surf/mars_topo.sps']

# Evaluate surfaces 
Evaluate[surface = krig_topo, data = topo_test]
! echo krig eval
Fitness[surface = krig_topo, metric = mean_squared]

# Save data to file
Save[data = topo_test, file = '../tmp_data/topo_test.spd']


#/*
#pushd ../tmp_data
#rm gnuplot_script 2> /dev/null 2
#echo "set term png; set output \"topo.png\";" > gnuplot_script
#echo plot [100:2400] [200:1000] \"./topo_test.txt\" using 1:2 >> gnuplot_script
#gnuplot gnuplot_script
#popd
#*/


